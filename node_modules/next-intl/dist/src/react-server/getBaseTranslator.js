/* eslint-disable import/default -- False positives */
import { cache } from 'react';
import createBaseTranslator, { getMessagesOrError } from 'use-intl/dist/src/core/createBaseTranslator';
import getConfig from '../server/getConfig';
let hasWarned = false;
async function getTranslatorImpl(locale, namespace) {
    if (typeof locale === 'object') {
        const opts = locale;
        namespace = opts.namespace;
        locale = opts.locale;
        if (!hasWarned) {
            console.warn(`
DEPRECATION WARNING: Calling \`getTranslator\` with an object argument is deprecated, please update your call site accordingly.

// Previously
getTranslator({locale: 'en', namespace: 'About'});

// Now
getTranslator('en', 'About');

See also https://next-intl-docs.vercel.app/docs/environments/metadata-route-handlers
`);
            hasWarned = true;
        }
    }
    const config = await getConfig(locale);
    const messagesOrError = getMessagesOrError({
        messages: config.messages,
        namespace,
        onError: config.onError
    });
    return createBaseTranslator({
        ...config,
        namespace,
        messagesOrError
    });
}
export default cache(getTranslatorImpl);
//# sourceMappingURL=getBaseTranslator.js.map