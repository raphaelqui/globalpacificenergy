/* eslint-disable import/default */
import { cache } from 'react';
import { createTranslator } from 'use-intl/dist/src/core';
import getConfig from './getConfig';
let hasWarned = false;
async function getTranslatorImpl(locale, namespace) {
    if (typeof locale === 'object') {
        const opts = locale;
        namespace = opts.namespace;
        locale = opts.locale;
        if (!hasWarned) {
            console.warn(`
DEPRECATION WARNING: Calling \`getTranslator\` with an object argument is deprecated, please update your call site accordingly.

// Previously
getTranslator({locale: 'en', namespace: 'About'});

// Now
getTranslator('en', 'About');

See also https://next-intl-docs.vercel.app/docs/environments/metadata-route-handlers
`);
            hasWarned = true;
        }
    }
    const config = await getConfig(locale);
    return createTranslator({
        ...config,
        namespace,
        messages: config.messages || {}
    });
}
export default cache(getTranslatorImpl);
//# sourceMappingURL=getTranslator.js.map